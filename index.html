<html>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      .hidden {
        display: none !important;
      }
    </style>
  </head>

  <script>
    function toggleViews() {
      let markersDiv = document.getElementById('markers');
      let viewerDiv = document.getElementsByTagName('video')[0];
      let canvasDiv = document.getElementsByTagName('canvas')[0];
      let aSceneDiv = document.getElementsByTagName('a-scene')[0];
      let isHidden = markersDiv.classList.contains('hidden');

      if (isHidden) {
        markersDiv.classList.remove('hidden')
        viewerDiv.classList.add('hidden')
        canvasDiv.classList.add('hidden')
        aSceneDiv.classList.add('hidden')
      } else {
        viewerDiv.classList.remove('hidden')
        canvasDiv.classList.remove('hidden')
        aSceneDiv.classList.remove('hidden')
        markersDiv.classList.add('hidden')
      }
    }
  </script>

  <body style='margin : 0px; display: flex; flex-direction: column; width: 100vw; height: 100vh;'>
    
    <!-- Buttons -->
    <div style="display: flex; position: absolute; top: 1rem; flex-direction: column; z-index: 3;">
      <h1 style="text-align: center; font-family: 'Courier New', Courier, monospace; color: white; background-color: black;"> VR hands-on exercise 1 </h1>
      <button style="min-width: 5rem; min-height: 3rem;" onclick="toggleViews()"> Toggle markers </button>
    </div>
    
    <!-- Markers -->
    <div id="markers" class="hidden" style="display: flex; align-items: center; justify-content: center; height: 100%;">
      <img style="width: 20%;" src="./markers/images/medkit.png"/>
      <img style="width: 20%;" src="./markers/images/ammo.png"/>
      <img style="width: 20%;" src="./markers/images/shield.png"/>
    </div>
    
    <!-- AR Viewer -->
    <a-scene id="viewer" embedded arjs='sourceType: webcam;'>
      <a-marker type="pattern" url="markers/patterns/shield.patt">
        <a-entity position="0 2 0" gltf-model="url(./models/shield/scene.gltf)"></a-entity>
      </a-marker>
      <a-marker type="pattern" url="markers/patterns/medkit.patt">
        <a-entity position="0 2 0" scale="0.05 0.05 0.05" gltf-model="url(./models/medkit/scene.gltf)"></a-entity>
      </a-marker>
      <a-marker type="pattern" url="markers/patterns/ammo.patt">
        <a-entity position="0 2 0" scale="0.03 0.03 0.03" gltf-model="url(./models/ammo/scene.gltf)"></a-entity>
      </a-marker>
    </a-scene>

    <!-- Credits -->
    <div style="display: flex; position: absolute; bottom: 0; flex-direction: column; z-index: 3;">
      <p style="text-align: center; font-family: 'Courier New', Courier, monospace; color: white; background-color: black;">
        Made by <b>Marconi Gomes</b> with A-Frame + AR.js
        </br>
        Models provided by sketchfab.com
      </p>
    </div>
  </body>
</html>